<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Tutor</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <header>
        <h1>Edit Tutor</h1>
        <nav>
            <a href="{{ url_for('home') }}">Home</a>
            <a href="{{ url_for('view_bookings') }}">View All Bookings</a>
        </nav>
    </header>
    
    <main>
        <form method="POST" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
            <p>{{ form.name.label }} {{ form.name(size=20) }}</p>
            <p>{{ form.phone.label }} {{ form.phone(size=20) }}</p>
            <p>{{ form.subject.label }} {{ form.subject(size=20) }}</p>
            <p>{{ form.available_slots.label }} {{ form.available_slots(size=100) }}</p>
            <p>
                <label for="photo">Upload Photo:</label>
                <input type="file" name="photo" accept="image/*">
            </p>
            <p>
                {% if tutor.photo_filename %}
                    <img src="{{ url_for('static', filename='uploads/' + tutor.photo_filename) }}" alt="Tutor Photo" style="width: 100px; height: auto;">
                {% endif %}
            </p>
            <p>{{ form.submit() }}</p>
        </form>

        <form method="POST" action="{{ url_for('delete_tutor', tutor_id=tutor.id) }}">
            <button type="submit" onclick="return confirm('Are you sure you want to delete this tutor?');">Delete Tutor</button>
        </form>
        
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <ul class="flash-messages">
                    {% for category, message in messages %}
                        <li class="{{ category }}">{{ message }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        {% endwith %}
    </main>
</body>
</html>
