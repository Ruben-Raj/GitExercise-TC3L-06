<!DOCTYPE html>
<html>
<head>
    <title>MMU HUB</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='qna_styles.css') }}"
</head>
<body>
    <div class="banner">
        <div class="navbar">
            <h1>MMU UNIVERSITY STUDENT HUB & TUTORIAL WEBSITE</h1>
            <ul>
                <li><a href="http://127.0.0.1:5000/register">SIGN UP</a></li>
                <li><a href="http://127.0.0.1:5000/logout">LOGOUT</a></li>
            </ul>
        </div>

        <div class="search-bar">
            <form action="{{ url_for('search_questions') }}" method="GET">
                <input type="text" name="query" placeholder="Search questions..." required>
                <button type="submit" class="button">Search</button>
            </form>
        </div>
        
        <div class="question-form">
            <h2>Post a New Question</h2>
            <form action="/submit-question" method="POST">
                <textarea name="question" placeholder="Type your question here..." required></textarea>
                <button type="submit" class="button">Post Question</button>
            </form>
        </div>
        
        {% for question in questions %}
        <div class="question">
            <h3><a href="{{ url_for('view_question', question_id=question.id) }}">{{ question.content }}</a></h3>
            <p>Posted by: <strong>Anonymous</strong></p>
        </div>

        <form action="{{ url_for('edit_question', question_id=question.id) }}" method="GET" class="edit-form">
            <button type="submit" class="edit-btn">Edit</button>
        </form>

        <form action="{{ url_for('delete_question', question_id=question.id) }}" method="POST" class="delete-form">
            <button type="submit" class="delete-btn">Delete</button>
        </form>
        {% endfor %}
        
        <div class="pagination">
            {% if questions.has_prev %}
                <a href="{{ url_for('index', page=questions.prev_num) }}">&laquo; Previous</a>
            {% endif %}
        
            <span>Page {{ questions.page }} of {{ questions.pages }}</span>
        
            {% if questions.has_next %}
                <a href="{{ url_for('index', page=questions.next_num) }}">Next &raquo;</a>
            {% endif %}
        </div>
        
        
    </div>
</body>
</html>
